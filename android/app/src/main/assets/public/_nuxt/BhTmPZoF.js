import{_ as w}from"./DsOKFDKE.js";import{e as _,r,i as h,c as o,a as t,f as x,j as k,k as p,g as C,l as V,n as j,t as v,d as f,b as B,w as N,o as a}from"./S-9llA6t.js";import{_ as z}from"./Cgl_VtuV.js";const S={class:"min-h-screen bg-gray-100 flex flex-col justify-center px-4 py-4 sm:px-6 lg:px-8 relative"},M={class:"relative z-10"},E={class:"mt-6 mx-auto w-full max-w-[340px] sm:max-w-md md:max-w-lg"},T={class:"bg-white/90 backdrop-blur-md py-8 px-6 shadow-lg rounded-2xl"},D={class:"mt-1"},L={key:0,class:"mt-1 text-xs text-red-600"},P={key:0,class:"text-red-500 text-xs text-center"},R=["disabled"],U={key:0,class:"flex items-center"},q={key:1},A={key:1,class:"text-center space-y-4"},F={class:"mt-6 text-center"},J=_({__name:"forgot-password",setup(H){const i=r(""),n=r(""),d=r(!1),s=r(""),c=r(!1),u=()=>{const l=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;i.value?l.test(i.value)?s.value="":s.value="รูปแบบอีเมลไม่ถูกต้อง":s.value="กรุณากรอกอีเมล"},m=h(()=>!s.value&&i.value),g=async()=>{try{if(d.value=!0,n.value="",u(),!m.value)return;await new Promise(l=>setTimeout(l,1e3)),c.value=!0}catch(l){n.value=l.message||"เกิดข้อผิดพลาด กรุณาลองใหม่อีกครั้ง"}finally{d.value=!1}};return(l,e)=>{const b=w;return a(),o("div",S,[e[6]||(e[6]=t("div",{class:"absolute inset-0 bg-[url('/research.jpg')] bg-cover bg-center opacity-40 backdrop-blur-sm"},null,-1)),t("div",M,[e[5]||(e[5]=x('<div class="mx-auto w-full max-w-[340px] sm:max-w-md md:max-w-lg"><div class="flex justify-center"><img src="'+z+'" alt="PBRU Logo" class="h-32 w-32 sm:h-28 object-contain"></div><h2 class="mt-4 text-center text-xl sm:text-2xl font-bold text-gray-900"> ลืมรหัสผ่าน </h2><p class="mt-2 text-center text-sm text-gray-600"> กรอกอีเมลของคุณเพื่อรับลิงก์รีเซ็ตรหัสผ่าน </p></div>',1)),t("div",E,[t("div",T,[c.value?(a(),o("div",A,e[3]||(e[3]=[x('<div class="text-green-600"><svg class="mx-auto h-12 w-12" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><h3 class="text-lg font-medium text-gray-900">ส่งอีเมลแล้ว</h3><p class="text-sm text-gray-600"> เราได้ส่งลิงก์รีเซ็ตรหัสผ่านไปยังอีเมลของคุณแล้ว<br> กรุณาตรวจสอบอีเมลและทำตามขั้นตอนที่ระบุ </p>',3)]))):(a(),o("form",{key:0,class:"space-y-6",onSubmit:k(g,["prevent"])},[t("div",null,[e[1]||(e[1]=t("label",{for:"email",class:"block text-base font-medium text-gray-700"}," อีเมล ",-1)),t("div",D,[C(t("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=y=>i.value=y),name:"email",type:"email",autocomplete:"email",required:"",class:j(["appearance-none block w-full px-4 py-3 border rounded-lg text-base focus:ring-2 focus:ring-offset-0",s.value?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-indigo-500"]),onInput:u},null,34),[[V,i.value]]),s.value?(a(),o("p",L,v(s.value),1)):p("",!0)])]),n.value?(a(),o("div",P,v(n.value),1)):p("",!0),t("div",null,[t("button",{type:"submit",disabled:d.value||!m.value,class:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200"},[d.value?(a(),o("span",U,e[2]||(e[2]=[t("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-95",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-100",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),f(" กำลังส่ง... ")]))):(a(),o("span",q,"ส่งลิงก์รีเซ็ตรหัสผ่าน"))],8,R)])],32)),t("div",F,[B(b,{to:"/login",class:"text-sm text-indigo-600 hover:text-indigo-500"},{default:N(()=>e[4]||(e[4]=[f(" กลับไปหน้าเข้าสู่ระบบ ")])),_:1})])])])])])}}});export{J as default};
