import{_,a as C}from"./CtKOI467.js";import{e as V,r as g,c as x,b as y,a as t,k as q,w as $,d as p,F as M,h as N,t as d,j as P,g as i,l as m,q as S,o as c,n as U}from"./S-9llA6t.js";import"./DsOKFDKE.js";import"./Cgl_VtuV.js";import"./-ECo5pt8.js";const j={class:"min-h-screen bg-gray-100 dark:bg-gray-900 flex"},B={class:"flex-1 flex flex-col min-h-screen"},F={class:"flex-1 p-4 sm:p-6 lg:p-8 mt-2 lg:mt-0"},D={class:"overflow-x-auto"},T={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},E={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},z={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300"},A={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300"},H={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300"},I={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300"},L={class:"px-6 py-4 whitespace-nowrap"},G={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},J=["onClick"],K=["onClick"],O={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full"},Q={class:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white dark:bg-gray-800"},R={class:"mt-3"},W={class:"text-lg font-medium text-gray-900 dark:text-white mb-4"},X={class:"flex justify-end space-x-3"},st=V({__name:"research-projects",setup(Y){const o=g([]),n=g(!1),l=g(null),a=g({code:"",name:"",leader:"",budget:0,status:"active"}),b=s=>{l.value=s,a.value={...s},n.value=!0},v=async()=>{try{if(l.value){const s=o.value.findIndex(e=>{var u;return e.id===((u=l.value)==null?void 0:u.id)});s!==-1&&(o.value[s]={...l.value,...a.value})}else{const s={id:Date.now().toString(),...a.value};o.value.push(s)}n.value=!1,k()}catch(s){console.error("Error saving project:",s)}},f=async s=>{confirm("คุณต้องการลบโครงการวิจัยนี้ใช่หรือไม่?")&&(o.value=o.value.filter(e=>e.id!==s))},k=()=>{a.value={code:"",name:"",leader:"",budget:0,status:"active"},l.value=null};return(s,e)=>{const u=C,w=_;return c(),x("div",j,[y(u,{"current-page":"research-projects"}),t("div",B,[y(w,null,{title:$(()=>e[7]||(e[7]=[p("โครงการวิจัย")])),_:1}),t("main",F,[e[10]||(e[10]=t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-6"},"โครงการวิจัย",-1)),t("button",{onClick:e[0]||(e[0]=r=>n.value=!0),class:"mb-6 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 flex items-center"},e[8]||(e[8]=[t("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),p(" เพิ่มโครงการวิจัย ")])),t("div",D,[t("table",T,[e[9]||(e[9]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"รหัสโครงการ"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"ชื่อโครงการ"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"หัวหน้าโครงการ"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"งบประมาณ"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"สถานะ"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"จัดการ")])],-1)),t("tbody",E,[(c(!0),x(M,null,N(o.value,r=>(c(),x("tr",{key:r.id},[t("td",z,d(r.code),1),t("td",A,d(r.name),1),t("td",H,d(r.leader),1),t("td",I,d(r.budget),1),t("td",L,[t("span",{class:U(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",r.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"])},d(r.status==="active"?"ดำเนินการ":"เสร็จสิ้น"),3)]),t("td",G,[t("button",{onClick:h=>b(r),class:"text-blue-600 hover:text-blue-900 mr-3"},"แก้ไข",8,J),t("button",{onClick:h=>f(r.id),class:"text-red-600 hover:text-red-900"},"ลบ",8,K)])]))),128))])])])])]),n.value?(c(),x("div",O,[t("div",Q,[t("div",R,[t("h3",W,d(l.value?"แก้ไขโครงการวิจัย":"เพิ่มโครงการวิจัย"),1),t("form",{onSubmit:P(v,["prevent"]),class:"space-y-4"},[t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"รหัสโครงการ",-1)),i(t("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>a.value.code=r),type:"text",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[m,a.value.code]])]),t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"ชื่อโครงการ",-1)),i(t("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>a.value.name=r),type:"text",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[m,a.value.name]])]),t("div",null,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"หัวหน้าโครงการ",-1)),i(t("input",{"onUpdate:modelValue":e[3]||(e[3]=r=>a.value.leader=r),type:"text",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[m,a.value.leader]])]),t("div",null,[e[14]||(e[14]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"งบประมาณ",-1)),i(t("input",{"onUpdate:modelValue":e[4]||(e[4]=r=>a.value.budget=r),type:"number",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[m,a.value.budget]])]),t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"สถานะ",-1)),i(t("select",{"onUpdate:modelValue":e[5]||(e[5]=r=>a.value.status=r),required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},e[15]||(e[15]=[t("option",{value:"active"},"ดำเนินการ",-1),t("option",{value:"completed"},"เสร็จสิ้น",-1)]),512),[[S,a.value.status]])]),t("div",X,[t("button",{type:"button",onClick:e[6]||(e[6]=r=>n.value=!1),class:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors duration-200"}," ยกเลิก "),e[17]||(e[17]=t("button",{type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200"}," บันทึก ",-1))])],32)])])])):q("",!0)])}}});export{st as default};
